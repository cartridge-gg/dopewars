[package]
cairo-version = "2.7.0"
name = "rollyourown"
version = "0.1.0"

[cairo]
# sierra-replace-ids = true

[dependencies]
# dojo = { path = "../dojo/crates/dojo-core" }
dojo = { git = "https://github.com/dojoengine/dojo", tag = "v1.0.0-alpha.16" }
# origami_token = { git = "https://github.com/dojoengine/origami", tag = "v1.0.0-alpha.16" }
origami_token = { path = "../origami-dev/" }
starknet = "2.7.0"
cartridge_vrf = { path = "../vrf-server" }

[scripts]
katana = "katana --allowed-origins \"*\" -b 2000 --disable-fee --dev"
torii = "torii --allowed-origins \"*\" --index-pending true --polling-interval 1000 --index-raw-events true --world 0x78e507a8cbba3ea8f74a7aabc732da3e2adfa81ff46c4cfb2141ff4a3514a14"

# common
copy_manifest = "./scripts/copy_manifest.sh"
gendojo = "./scripts/gen.sh"

# migrate  && scarb run gendojo $PROFILE
migrate = "PROFILE=dev && sozo -P $PROFILE build && sozo -P $PROFILE migrate apply -vvv && scarb run copy_manifest $PROFILE && scarb run gendojo $PROFILE"
migrate_ryo1 = "PROFILE=ryo1 && sozo -P $PROFILE build && sozo -P $PROFILE migrate apply -vvv --slot.controller && scarb run copy_manifest $PROFILE"
migrate_internal = "PROFILE=internal && sozo -P $PROFILE build && sozo -P $PROFILE migrate apply -vvv --slot.controller && scarb run copy_manifest $PROFILE"
migrate_ryosepolia = "PROFILE=ryosepolia && sozo -P $PROFILE build && sozo -P $PROFILE migrate apply --keystore ../../../sozo_acc -vvv && scarb run copy_manifest $PROFILE"

# slot ryosepolia 
slot_ryosepolia_torii = "slot d create ryosepolia2 torii --rpc https://api.cartridge.gg/x/starknet/sepolia --index-pending true --version 1.0.0-alpha.16 --world 0x3c546d141a8727eabfd4c91cbb8e8bac7f698b98e1e42069d0f3ce29db8abf6"

# slot ryo1
# slot_ryo1_katana = "slot d create ryo1 katana -v 1.0.0-alpha.16 -b 2000 -a 10 --disable-fee true"
slot_ryo1_katana = "slot d create ryo1 katana -v 1.0.0-alpha.16 -b 2000 -a 10 --disable-fee false"
slot_ryo1_torii = "slot d create ryo1 torii --rpc  https://api.cartridge.gg/x/ryo1/katana --index-pending true --version 1.0.0-alpha.16 --world 0x38573380cb5200376caaef0dfd9b0dee41aa62869c5964b526cf1bc45ca09fe"


[[target.dojo]]
build-external-contracts = [
    "origami_token::components::security::initializable::initializable_model",
    "origami_token::components::token::erc20::erc20_metadata::erc_20_metadata_model",
    "origami_token::components::token::erc20::erc20_balance::erc_20_balance_model",
    "origami_token::components::token::erc20::erc20_allowance::erc_20_allowance_model",
    "origami_token::components::token::erc20::erc20_mintable::erc_20_mintable_model",
    "origami_token::components::token::erc20::erc20_burnable::erc_20_burnable_model",
    "cartridge_vrf::vrf_provider::vrf_provider::VrfProvider",
]

[profile.internal]
[profile.ryo1]
[profile.ryosepolia]
[profile.mainnet]

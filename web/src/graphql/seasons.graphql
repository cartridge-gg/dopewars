query SeasonByVersion($version: u16, $listId: felt252) {
  dopewarsV0SeasonModels(where: { version: $version }) {
    edges {
      node {
        version
        season_duration
        season_time_limit
        paper_fee
        treasury_fee_pct
        next_version_timestamp
        paper_balance
      }
    }
  }

  dopewarsV0SeasonSettingsModels(where: { season_version: $version }) {
    edges {
      node {
        season_version
        cash_mode
        health_mode
        turns_mode
        drugs_mode
        encounters_mode
        encounters_odds_mode
        wanted_mode
      }
    }
  }

  dopewarsV0SortedListModels(where: { list_id: $listId }) {
    edges {
      node {
        list_id
        size
        locked
        processed
        process_size
        process_max_size
      }
    }
  }
}

query Seasons {
  dopewarsV0SeasonModels(limit: 420, order: { field: VERSION, direction: DESC }) {
    edges {
      node {
        version
        season_duration
        season_time_limit
        paper_fee
        treasury_fee_pct
        next_version_timestamp
        paper_balance
      }
    }
  }

  dopewarsV0SeasonSettingsModels(limit: 420) {
    edges {
      node {
        season_version
        cash_mode
        health_mode
        turns_mode
        drugs_mode
        encounters_mode
        encounters_odds_mode
      }
    }
  }

  dopewarsV0SortedListModels(limit: 420) {
    edges {
      node {
        list_id
        size
        locked
        processed
        process_size
        process_max_size
      }
    }
  }
}

query SeasonSettings($version: u16) {
  dopewarsV0SeasonSettingsModels(where: { season_version: $version }) {
    edges {
      node {
        season_version
        cash_mode
        health_mode
        turns_mode
        drugs_mode
        encounters_mode
        encounters_odds_mode
      }
    }
  }
}

query AllSeasonSettings {
  dopewarsV0SeasonSettingsModels(limit: 420) {
    edges {
      node {
        season_version
        cash_mode
        health_mode
        turns_mode
        drugs_mode
        encounters_mode
        encounters_odds_mode
      }
    }
  }
}

query HallOfFame {
  dopewarsV0GameModels(limit: 420, where: { position: 1 }, order: { field: SEASON_VERSION, direction: DESC }) {
    edges {
      node {
        game_id
        player_id
        player_name {
          value
        }
        multiplier
        season_version
        final_score
        position
        claimable
        token_id {
          option
          GuestLootId
          LootId
          HustlerId
        }
        equipment_by_slot
      }
    }
  }
}

# use sql
query Claimable($playerId: ContractAddress) {
  dopewarsV0GameModels(where: { player_id: $playerId, claimed: false, claimableGT: 0 }) {
    edges {
      node {
        game_id
        season_version
        player_id
        player_name {
          value
        }
        token_id {
          option
          GuestLootId
          LootId
          HustlerId
        }
        equipment_by_slot
        claimed
        claimable
        final_score
        position
      }
    }
  }
}

# remove ?

query GameOverEvents($gameOverSelector: String, $version: String) {
  events(last: 1000, keys: [$gameOverSelector, "*", "*", $version]) {
    totalCount
    edges {
      node {
        id
        transactionHash
        keys
        data
        createdAt
      }
    }
  }
}

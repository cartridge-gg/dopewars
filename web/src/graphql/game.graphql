query GameById($gameId: u32) {
  gameModels(where: { game_id: $gameId }) {
    edges {
      node {
        season_version
        game_id
        game_mode
        hustler_id
        player_name
        player_id
        game_over
        final_score
        registered
        claimed
        claimable
        position
      }
    }
  }
} 

query RegisteredGamesBySeason($version: u16) {
  gameModels(
  limit: 9001, 
  where: { season_version: $version, registered: true }
  order: {field: FINAL_SCORE, direction: DESC}
  ) {
    edges {
      node {
        season_version
        game_id
        player_id
        player_name
        hustler_id
        final_score
        registered
        claimed
        claimable
        position
      }
    }
  }
}


query GamesByPlayer($playerId: String) {
  entities(limit: 9001, keys: ["*", $playerId]) {
    edges {
      node {
        id
        keys
        models {
          __typename
          ... on Game {
            game_id
            player_id
            season_version
            game_mode
            hustler_id
            player_name
            game_over
            final_score
            registered
            claimed
            claimable
            position
          }
          ... on GameStorePacked {
            game_id
            player_id
            packed
          
          }
        }
      }
    }
  }
}





query GameStorePacked($gameId: String!, $playerId: String!) {
  entities(keys: [$gameId, $playerId]) {
    totalCount
    edges {
      node {
        id
        models {
          __typename
          ... on GameStorePacked {
            game_id
            player_id
            packed
          }
        }
      }
    }
  }
}

subscription GameStorePackedSubscription($id: ID) {
  entityUpdated(id: $id) {
    id
    keys
    models {
      __typename
      ... on GameStorePacked {
        game_id
        player_id
        packed
      }
    }
  }
}
